<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
		<title>배열 내장함수</title>
		
	
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>


     </head>
    <body>	
		


		<script type="text/javascript">

			//배열 내장함수 잘 이용할 수록  for문 if문 의존성을 줄일 수 있음 유연하고 멋있고 짧은 코드를 작성할 수 있음
			
			//상수배열
			const arr = [1,2,3,4];
			const newArr = [];
			
			for (let i = 0; i < arr.length; i++){
				console.log(arr[i]); 
			}


			//내장함수 사용하면 위에 코드를 한줄로 줄일 수 있다.
			//내장함수는 객체의 메서드와 똑같은거 [forEach : 배열의 모든 요소를 순회할 수 있도록 도움을 준다. 하나하나 요소를 이 포이치 메서드안에 전달되는 콜백함수에 한번씩 파라미터로 전달해줌 이런식으로 우리가 원하는 작업을 할수있도록]

			//forEach
			//arr 배열에 내장함수를 사용하면 내장함수에 전달하는 콜백함수를 각각의 요소에 대해 실행
			arr.forEach((elem) => console.log(elem * 2));
			
			
			//위에 코드는 아래 코드와 같은 뜻
//			arr.forEach(function(elem){
//				console.log(elem)
//			});


			//_________________________________________________

			arr.forEach(function(elem){
				newArr.push(elem *3);
			});

			console.log(newArr);

			
			//더 간단하게 map 사용
			//map은 원본 배열을 순회하며 리턴된 값을 따로 배열로 출력해서 반환
			const newArr2 = arr.map((elem) => {
				return elem * 2;
			});

			console.log(newArr2);


			
			//elem이 3일 경우 true를 출력해라
			let number = 3;

			arr.forEach((elem) => {
				if (elem === number){
					console.log(true);
				}
			});


			//더 빨리 할수 있는 내장함수
			//주어진 배열에서 전달받은 인자와 일치하는 값이 존재하는지 확인
			//===연산을 사용해 값을 찾는다. boolean으로 리턴
			//number를 문자열 "3"으로 바꿔주면 false가 나온다.
			console.log(arr.includes(number));//true
			

			//존재하면 몇번째에 있는지 index 출력
			const arr2 = [1,2,3,4];
			let number2 = "3";
			console.log(arr2.indexOf(number2));//-1 없을 경우 -1 반환
			console.log(arr2.indexOf(number));//2


			//단순히 숫자가 아닌 복잡한 객체를 포함했을 때 원하는 속성을 갖는 예를 들어 컬러가 그린인 배열의 요소 인덱스를 가져다줘
			//findIndex

			const arr3 = [
				{ color : "red" },
				{ color : "black" },
				{ color : "blue" },
				{ color : "green" }
			];
			
			const arr4 = [
				{ color : "red" },
				{ color : "black" },
				{ color : "blue" },
				{ color : "green" },
				{ color : "blue" }
			];


			let number3 = 3;

			console.log(arr3.findIndex((elem) => elem.color === "green"));//3

			console.log(arr3.findIndex((elem) => {
				return elem.color === "red";
				})
			);//0
			

			//찾고자하는 요소에 직접적으로 접근
			const idx = arr3.findIndex((elem) => {
				return elem.color === "blue";
			});
			
			console.log(idx);


			//찾고자하는 요소에 직접적으로 접근
			//blue 요소 2개 모두 출력하고자 할때
			const idx2 = arr4.findIndex((elem) => {
				return elem.color === "blue";
			});
			
			console.log(arr4[idx2]);



			//find 메서드
			//findindex와 전달하는 콜백함수는 똑같음, find 만족하는 요소 자체를 반환하고 findindex는 index를 배출
			const element = arr4.find((elem) => {
				return elem.color === "blue";
			});
			
			console.log(element);



			//배열 필터링
			const arr5 = [
				{ num: 1, color : "red" }, 
				{ num: 2, color : "black" },
				{ num: 3, color : "blue" },
				{ num: 4, color : "green" },
				{ num: 5, color : "blue" }
			];

			//3번째 5번째 블루 필터링
			console.log(arr5.filter((elem) => elem.color === "blue"));



			//배열을 싹둑 자르는 매서드
			//첫번째 begin 두번째 자리 end
			//end에서 1나 뺀 자리수까지 반환을 한다.
			//그래서 red와 black을 최종적으로 반환
			console.log(arr5.slice(0,2)); //0번부터 1번부터
			console.log(arr5.slice(0,4)); //0번부터 3번부터



			//배열 붙이기
			const arr6a = [
				{ num: 1, color : "red" }, 
				{ num: 2, color : "black" },
				{ num: 3, color : "blue" }
			];

			const arr6b = [
				{ num: 4, color : "green" },
				{ num: 5, color : "blue" }
			];
			
			//하나의 배열로 다시 리턴해줍니다.
			console.log(arr6a.concat(arr6b));




			//배열 정렬
			let chars = ["나", "다", "가"];
			
			chars.sort();
			console.log(chars);
			

			//숫자 정렬
			let numbers = [0,4,3,1,50,20];

			//sort는 문자를 기준으로 정렬하기 때문에 사전 순으로 정렬함 그래서 숫자 정렬로는 sort는 적합하지 않다. 0먼저 1먼저 2먼저 오기 때문.. 그래서 비교함수를 넣어줘야함 

			numbers.sort();
			//console.log(numbers);


			//배열 두개를 비교해서 클때 뒤로, 작은 값이 더 앞으로 같은 때 자리를 안바꾸게 하면 오름차순으로 배열을 정리할 수 있게 된다. 내림차순은 양수 음수를 변경해주면 된다.
			const compare = (a,b) =>{
				//1 같다.		
				//2 크다.
				//3 작다.

				if (a > b){
					return 1;
				} 
				if (a < b){
					return -1;
				}
	
				return 0;
			}
			
			numbers.sort(compare);
			console.log(numbers);



			//배열내 모든 요소를 문자열 형테로 합치기
			const arrayplus = ["이정환", "님", "안녕하세요", "또오셨군요"];

			//따로 나뉘어질 말이 아니라 합쳐서 사용해도 괜찮을 말이면 
			console.log(arrayplus.join()); // 쉼표 포함 나란이 출력
			console.log(arrayplus.join("")); // 쉼표 없이


		</script>
		

		
    </body>
</html>